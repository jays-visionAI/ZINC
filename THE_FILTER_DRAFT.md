# 🔍 The Filter (Quality Verification) - 기획 설계안 v1.0

> **문서 작성일**: 2024-12-08
> **상태**: Draft (초안)

---

## 📋 The Filter 개요

| 항목 | 설명 |
|------|------|
| **목적** | 생성된 콘텐츠의 품질 검증, 브랜드 일관성 유지, 리스크 방지 |
| **역할** | [4] 검증 (The Filter) - 발행 직전의 최종 관문 |
| **핵심 컨셉** | **"The Editor's Desk"** - AI가 1차 교정하고, 인간이 최종 승인(Sign-off)하는 편집실 |
| **타겟 가치** | "실수 없는 완벽한 발행" + "브랜드 톤앤매너의 통일성" |

---

## 🔗 5단계 파이프라인 내 위치

```
[1] 👁️ Market Pulse - 시장 감시, 트렌드 포착
          ↓
[2] 🧠 Brand Brain - 전략 수립
          ↓
[3] ✋ Hive Mind Studio - 콘텐츠 생산 (초안 생성)
          ↓
[4] 🔍 The Filter - 품질 검증 & 편집  ← 현재 기획
          ↓
    • AI Quality Check (톤앤매너, 맞춤법)
    • SEO & Performance (도달률 최적화)
    • Compliance & Safety (금지어, 법적 이슈)
          ↓
[5] 🌱 The Growth - 발행 및 KPI 학습
```

---

## 🔗 다른 모듈과의 역할 구분 (일관성 분석)

| 모듈 | 역할 | The Filter와의 관계 |
|------|------|---------------------|
| **Brand Brain** | 전략 설정 (Brand Voice, Do's/Don'ts) | The Filter의 **검수 기준 제공** |
| **Market Pulse** | 트렌드 수집 (Trending Keywords) | The Filter의 **SEO 제안 데이터 제공** |
| **Hive Mind Studio** | 콘텐츠 생성 | The Filter의 **입력 데이터 (초안)** |
| **The Filter** | 검수 및 교정 | - |
| **The Growth** | 발행 및 학습 | The Filter의 **출력 데이터 (승인된 콘텐츠)** 수신 |

### 데이터 흐름도

```
Brand Brain (Strategy Directives)
       │
       │ Brand Voice, Do's/Don'ts, Focus Keywords
       ▼
┌──────────────────────────────────────────────────────────────────┐
│                                                                  │
│  Hive Mind Studio ──(초안)──▶  🔍 The Filter  ──(승인됨)──▶ Growth │
│                                                                  │
└──────────────────────────────────────────────────────────────────┘
       ▲
       │ Trending Keywords, SEO Insights
       │
Market Pulse (Live Trends)
```

---

## 🏗️ 화면 레이아웃: "The Editor's Desk"

### 전체 레이아웃 (Split View)

화면은 **[좌측: 콘텐츠 프리뷰 + 에디터]**와 **[우측: AI 검수 패널]**로 구성됩니다.

```
┌─────────────────────────────────────────────────────────────────────────┐
│  🔍 The Filter                                           [ < ] [ > ]    │
│  "Clean Beauty Campaign Post 1" (Instagram)              1 of 3         │
├─────────────────────────────────────────┬───────────────────────────────┤
│                                         │                               │
│  📱 PREVIEW: INSTAGRAM                  │  ✅ QUALITY SCORECARD         │
│  ┌───────────────────────────────────┐  │  ┌─────────────────────────┐  │
│  │                                   │  │  │  92 / 100 POINTS        │  │
│  │  [ 이미지 슬라이드 (1/3) ]        │  │  │  EXCELLENT! 🌟          │  │
│  │                                   │  │  └─────────────────────────┘  │
│  │  ───────────────────────────────  │  │                               │
│  │  ♥ 💬 ➤                           │  │  DETAILED CHECK:              │
│  │                                   │  │  ✅ Brand Voice (100%)        │
│  │  **oocosmetics_official**         │  │  ✅ Grammar (100%)            │
│  │                                   │  │  ⚠️ SEO Optimization (85%)    │
│  │  여름철 피부 고민, #클린뷰티 로   │  │  ✅ Compliance (100%)         │
│  │  시작하세요! 🌿                   │  │                               │
│  │                                   │  │  ───────────────────────────  │
│  │  무더운 날씨에 지친 피부...       │  │                               │
│  │  (더 보기)                        │  │  💡 SUGGESTED FIXES (2)       │
│  │                                   │  │                               │
│  │  #비건뷰티 #친환경 #여름스킨케어  │  │  1. ⚠️ 해시태그 추가 제안     │
│  │                                   │  │     "트렌딩인 #수분폭탄 태그를│
│  │                                   │  │      추가하면 노출 +15% 예상" │
│  │                                   │  │     [+ 추가하기]              │
│  │                                   │  │                               │
│  │                                   │  │  2. ⚠️ 도입부 임팩트 강화     │
│  └───────────────────────────────────┘  │     "첫 문장이 다소 평이합니다.│
│                                         │      의문형으로 바꿔볼까요?"   │
│  ┌───────────────────────────────────┐  │     [✍️ 다시 쓰기]            │
│  │  📝 EDITOR                        │  │                               │
│  │  ──────────                       │  │  ───────────────────────────  │
│  │  [여름철 피부 고민, #클린뷰티 로  │  │                               │
│  │   해결하세요!]                    │  │  🤖 AI SIMULATOR              │
│  │                                   │  │  예상 반응: 긍정적 (88%)      │
│  │  [무더운 날씨에 지친 피부...]     │  │  예상 도달: 12,500 accounts   │
│  │                                   │  │                               │
│  └───────────────────────────────────┘  │  [🔄 재검사]                  │
│                                         │                               │
├─────────────────────────────────────────┴───────────────────────────────┤
│                                                                         │
│  [🔙 Studio로 돌아가기]   [💾 임시 저장]   [🚀 APPROVE & PUBLISH]       │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 📐 섹션별 상세 설계

### 1. ✅ Quality Scorecard (품질 성적표)

콘텐츠를 4가지 핵심 기준으로 평가하여 점수화합니다.

```
┌─────────────────────────────────────────────────────────────────┐
│  ✅ QUALITY SCORECARD                                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │                                                           │  │
│  │              92 / 100                                     │  │
│  │              EXCELLENT! 🌟                                │  │
│  │                                                           │  │
│  │  ████████████████████████████████████░░░░░░░░             │  │
│  │                                                           │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  DETAILED CHECK:                                                │
│                                                                 │
│  ✅ Brand Voice          ████████████████████  100%            │
│     Brand Brain 전략과 일치                                     │
│                                                                 │
│  ✅ Grammar & Spelling   ████████████████████  100%            │
│     맞춤법/문법 오류 없음                                       │
│                                                                 │
│  ⚠️ SEO Optimization     ████████████████░░░░   85%            │
│     트렌딩 키워드 1개 추가 권장                                 │
│                                                                 │
│  ✅ Compliance           ████████████████████  100%            │
│     금지어/법적 이슈 없음                                       │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

#### 평가 기준 상세

| 기준 | 체크 항목 | 데이터 연동 |
|------|-----------|-------------|
| **Brand Voice** | 톤앤매너, 금지어, 필수 키워드 | Brand Brain - Strategy Directives |
| **Grammar** | 맞춤법, 문법, 띄어쓰기 | 내장 검사기 + AI |
| **SEO / Reach** | 해시태그, 트렌딩 키워드, 길이 최적화 | Market Pulse - Live Trends |
| **Compliance** | 저작권, 허위광고, 혐오표현 | 내장 금지어 DB + 법률 DB |

#### 점수 산정 방식

- **✅ 90-100점**: Excellent - 바로 발행 가능
- **⚠️ 70-89점**: Good - 일부 개선 권장
- **❌ 50-69점**: Needs Work - 수정 후 재검사 필요
- **🚫 0-49점**: Critical - 발행 불가

---

### 2. 💡 AI Red Pen (자동 교정 제안)

**목적**: 단순 지적이 아닌 **"원클릭 수정"** 대안 제시

```
┌─────────────────────────────────────────────────────────────────┐
│  💡 SUGGESTED FIXES (2)                                         │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  1. ⚠️ SEO - 해시태그 추가 제안                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │  Market Pulse에서 감지된 트렌딩 키워드                    │  │
│  │  "#수분폭탄"을 추가하면 노출이 +15% 증가할 것으로         │  │
│  │  예상됩니다.                                              │  │
│  │                                                           │  │
│  │  현재: #비건뷰티 #친환경 #여름스킨케어                    │  │
│  │  제안: #비건뷰티 #친환경 #여름스킨케어 #수분폭탄          │  │
│  │                                                           │  │
│  │  [+ 태그 추가하기]  [무시하기]                            │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  2. ⚠️ Engagement - 도입부 임팩트 강화                          │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │  첫 문장이 다소 평이합니다.                               │  │
│  │  의문형으로 시작하면 참여율이 +12% 높아지는 경향이        │  │
│  │  있습니다.                                                │  │
│  │                                                           │  │
│  │  현재: "여름철 피부 고민, #클린뷰티 로 시작하세요!"       │  │
│  │  제안: "여름철 피부가 지쳐가고 있나요? 🌿"               │  │
│  │                                                           │  │
│  │  [✍️ 제안대로 변경]  [다른 버전 보기]  [무시하기]         │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

#### AI Red Pen 원칙

| Bad Practice | Good Practice (The Filter) |
|--------------|---------------------------|
| "해시태그가 부족합니다." | "트렌딩 키워드 `#수분폭탄` 추가 시 노출 +15% 예상. **[+ 추가하기]**" |
| "톤앤매너가 안 맞습니다." | "Brand Brain의 '친근한' 톤보다 딱딱합니다. **[✨ 톤 보정하기]**" |
| "문장이 너무 깁니다." | "280자 초과입니다. 이 버전을 추천합니다: ... **[✂️ 축약 적용]**" |

---

### 3. 📱 Multi-Platform Preview (플랫폼별 미리보기)

**목적**: 실제 플랫폼에서 보이는 모습 그대로 확인

```
┌─────────────────────────────────────────────────────────────────┐
│  📱 PREVIEW                                                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Platform: [Instagram ▼]  [X (Twitter)]  [LinkedIn]  [Thread]  │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │  ┌─────────────────────────────────────────────────────┐  │  │
│  │  │           📱 Instagram Preview                      │  │  │
│  │  │  ─────────────────────────────────────────────────  │  │  │
│  │  │                                                     │  │  │
│  │  │  [ 이미지 슬라이드 1/3 ]                            │  │  │
│  │  │                                                     │  │  │
│  │  │  ───────────────────────────────────────────────    │  │  │
│  │  │  ♥ 💬 ➤ 🔖                                         │  │  │
│  │  │                                                     │  │  │
│  │  │  **oocosmetics_official**                          │  │  │
│  │  │                                                     │  │  │
│  │  │  여름철 피부 고민, #클린뷰티 로 시작하세요! 🌿    │  │  │
│  │  │  무더운 날씨에 지친 피부를 위한 클린뷰티...        │  │  │
│  │  │  (더 보기)                                         │  │  │
│  │  │                                                     │  │  │
│  │  │  댓글 12개 모두 보기                               │  │  │
│  │  │  5시간 전                                          │  │  │
│  │  │                                                     │  │  │
│  │  └─────────────────────────────────────────────────────┘  │  │
│  │                                                           │  │
│  │  ⚠️ "더 보기" 버튼 때문에 핵심 메시지가 잘립니다.         │  │
│  │     첫 2줄 안에 핵심 내용을 배치하세요.                   │  │
│  │                                                           │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

#### 플랫폼별 검사 항목

| 플랫폼 | 검사 항목 |
|--------|----------|
| **Instagram** | 2줄 미리보기 컷오프, 해시태그 30개 제한, 이미지 슬라이드 순서 |
| **X (Twitter)** | 280자 제한, 링크 미리보기, 리플라이 스레드 구조 |
| **LinkedIn** | 3줄 미리보기 컷오프, 전문적 톤 검사 |
| **Thread** | 멀티 포스트 구조, 연결성 |

---

### 4. 🤖 AI Simulator (성과 예측)

**목적**: 발행 전 예상 성과 시뮬레이션

```
┌─────────────────────────────────────────────────────────────────┐
│  🤖 AI SIMULATOR                                                │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  예상 성과 (과거 데이터 기반)                                   │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │                                                           │  │
│  │  📊 예상 도달: 12,500 accounts                            │  │
│  │     (평균 대비 +18%)                                      │  │
│  │                                                           │  │
│  │  😊 예상 반응: 긍정적 (88%)                               │  │
│  │     Brand Brain 전략과 일치                               │  │
│  │                                                           │  │
│  │  💬 예상 참여: 높음                                       │  │
│  │     트렌딩 키워드 "#클린뷰티" 포함                        │  │
│  │                                                           │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  [🔄 다시 분석]                                                 │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

### 5. ⚖️ Approval Workflow (승인 프로세스)

**목적**: 콘텐츠 상태 관리 및 워크플로우 추적

```
콘텐츠 상태 흐름:

[Draft] ──▶ [Reviewed] ──▶ [Approved] ──▶ [Published]
   │            │              │
   │            │              └── The Growth로 전달
   │            │
   │            └── AI 검수 완료, 인간 미확인
   │
   └── Studio에서 생성한 초안
```

| 상태 | 설명 | 다음 액션 |
|------|------|----------|
| **Draft** | Studio에서 생성된 초안 | The Filter에서 검수 |
| **Reviewed** | AI 검수 완료, 인간 미확인 | 인간 승인 대기 |
| **Approved** | 인간 승인 완료 | 발행 대기 (예약 가능) |
| **Rejected** | 반려됨 | Studio로 재전송 or 수동 수정 |
| **Published** | 발행 완료 | The Growth에서 성과 추적 |

---

## 🧠 Brand Brain 연동 상세

### 연동 데이터

| Brand Brain 데이터 | The Filter 사용처 |
|-------------------|------------------|
| **Brand Voice - Personality** | 톤앤매너 검사 기준 |
| **Brand Voice - Do's** | 필수 포함 요소 체크 |
| **Brand Voice - Don'ts** | 금지 표현 검사 |
| **Current Focus - Keywords** | 우선 키워드 검사 |
| **Tone Intensity** | 적극성 수준 검사 |

### 검사 예시

```javascript
// Brand Brain 설정
strategyDirectives: {
  brandVoice: {
    personality: ["professional", "friendly"],
    dos: ["환경 강조", "비건 언급"],
    donts: ["경쟁사 직접 언급", "과장된 효과 주장"]
  },
  currentFocus: {
    keywords: ["클린뷰티", "비건화장품"]
  },
  toneIntensity: 0.7 // 70% 적극적
}

// The Filter 검사 결과
evaluation: {
  brandVoiceScore: 100, // ✅ "friendly" 톤 감지됨
  compliance: {
    dosChecked: ["환경 강조 ✅"],
    dontsViolation: [] // 위반 없음
  },
  keywordUsage: ["클린뷰티 ✅", "비건화장품 ❌ 미포함"]
}
```

---

## 👁️ Market Pulse 연동 상세

### 연동 데이터

| Market Pulse 데이터 | The Filter 사용처 |
|--------------------|------------------|
| **Trending Keywords** | SEO 제안 (해시태그 추천) |
| **Keyword Change %** | 제안 우선순위 결정 |
| **Competitor Keywords** | 차별화 검사 |

### 검사 예시

```javascript
// Market Pulse 데이터
trendingKeywords: [
  { keyword: "#수분폭탄", change: +180% },
  { keyword: "#클린뷰티", change: +340% }
]

// The Filter SEO 제안
seoSuggestion: {
  message: "트렌딩 키워드 '#수분폭탄'을 추가하면 노출 +15% 예상",
  action: "ADD_HASHTAG",
  value: "#수분폭탄",
  priority: "high" // change% 기반
}
```

---

## 🗄️ Firestore 데이터 구조

```javascript
// Collection: contentFilter/{projectId}/items/{contentId}
{
  // 기본 정보
  contentId: "content_001",
  sourceType: "studio" | "manual",
  platform: "instagram" | "x" | "linkedin",
  status: "draft" | "reviewed" | "approved" | "rejected" | "published",
  
  // 콘텐츠 원본
  content: {
    text: "여름철 피부 고민...",
    hashtags: ["#비건뷰티", "#친환경"],
    mediaUrls: ["https://..."],
    mediaType: "image" | "video" | "carousel"
  },
  
  // AI 평가 결과
  evaluation: {
    totalScore: 92,
    breakdown: {
      brandVoice: { score: 100, details: "..." },
      grammar: { score: 100, details: "..." },
      seo: { score: 85, details: "..." },
      compliance: { score: 100, details: "..." }
    },
    // AI 제안 목록
    suggestions: [
      {
        id: "sug_001",
        type: "seo",
        priority: "medium",
        message: "트렌딩 키워드 #수분폭탄 추가 권장",
        currentValue: "#비건뷰티 #친환경",
        suggestedValue: "#비건뷰티 #친환경 #수분폭탄",
        applied: false,
        appliedAt: null
      }
    ]
  },
  
  // 시뮬레이션 결과
  simulation: {
    predictedReach: 12500,
    predictedEngagement: "high",
    predictedSentiment: 0.88,
    comparedToAverage: "+18%"
  },
  
  // 워크플로우
  workflow: {
    createdAt: Timestamp,
    reviewedAt: Timestamp,
    reviewedBy: "ai",
    approvedAt: null,
    approvedBy: null, // userId
    publishedAt: null,
    rejectedAt: null,
    rejectionReason: null
  },
  
  updatedAt: Timestamp
}
```

---

## ✅ 기능 체크리스트

| 기능 | 포함 여부 | 연동 모듈 |
|------|----------|----------|
| Quality Scorecard (4가지 기준 점수) | ✅ | - |
| Brand Voice 검사 | ✅ | Brand Brain |
| Grammar & Spelling 검사 | ✅ | 내장 |
| SEO Optimization 검사 | ✅ | Market Pulse |
| Compliance 검사 (금지어, 법적) | ✅ | 내장 DB |
| AI Red Pen (원클릭 수정 제안) | ✅ | - |
| Multi-Platform Preview | ✅ | - |
| AI Simulator (성과 예측) | ✅ | 과거 데이터 |
| Approval Workflow | ✅ | - |
| Brand Brain 연동 | ✅ | Brand Brain |
| Market Pulse 연동 | ✅ | Market Pulse |

---

## 📝 다른 모듈과의 상충 없음 확인

| 검토 항목 | 결과 |
|----------|------|
| Brand Brain과 중복 기능? | ❌ 없음 - Brand Brain은 **설정**, The Filter는 **검사** |
| Market Pulse와 중복 기능? | ❌ 없음 - Market Pulse는 **수집**, The Filter는 **적용** |
| Hive Mind Studio와 중복 기능? | ❌ 없음 - Studio는 **생성**, The Filter는 **검증** |
| 데이터 흐름 충돌? | ❌ 없음 - 명확한 입출력 정의됨 |

---

## 🔧 개발 로드맵 (간략)

| 단계 | 내용 | 예상 시간 |
|------|------|----------|
| 1 | 검수 엔진 (LLM 프롬프트 엔지니어링) | 2-3일 |
| 2 | Split View UI 레이아웃 | 1-2일 |
| 3 | 플랫폼별 CSS 미리보기 | 1-2일 |
| 4 | Brand Brain/Market Pulse 연동 | 1일 |
| 5 | Click-to-fix 수정 로직 | 1-2일 |
| 6 | Approval Workflow | 1일 |
| **총합** | | **7-11일** |

---

> **핵심 가치**: "AI가 실수를 잡아주고, 더 나은 표현을 제안하여, 인간은 최종 결정만 하면 되는" 경험 🐝
