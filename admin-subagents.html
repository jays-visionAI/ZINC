<div class="admin-actions-bar">
    <div class="admin-search-box">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" id="subagent-search" placeholder="Search templates...">
    </div>

    <div class="admin-filters">
        <select id="filter-type" class="admin-select">
            <option value="all">All Types</option>
            <option value="planner">ğŸ¯ Planner</option>
            <option value="research">ğŸ” Research</option>
            <option value="creator">âœï¸ Creator</option>
            <option value="compliance">âš–ï¸ Compliance</option>
            <option value="evaluator">ğŸ“Š Evaluator</option>
            <option value="manager">ğŸ‘” Manager</option>
            <option value="kpi_engine">ğŸ“ˆ KPI Engine</option>
        </select>

        <select id="filter-status" class="admin-select">
            <option value="all">All Status</option>
            <option value="active">âœ… Active</option>
            <option value="draft">ğŸ“ Draft</option>
            <option value="deprecated">âŒ Deprecated</option>
        </select>

        <button class="admin-btn-primary" id="add-subagent-btn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
            Create Template
        </button>
    </div>
</div>

<div class="admin-table-container">
    <table class="admin-table">
        <thead>
            <tr>
                <th>Type</th>
                <th>Template ID</th>
                <th>Version</th>
                <th>Status</th>
                <th>Default Profile</th>
                <th>Last Updated</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="subagents-table-body">
            <tr>
                <td colspan="7" style="text-align: center; padding: 40px; color: rgba(255,255,255,0.5);">
                    Loading templates...
                </td>
            </tr>
        </tbody>
    </table>
</div>

<!-- SubAgent Template Modal -->
<div id="subagent-modal" class="admin-modal" style="display: none;">
    <div class="admin-modal-content" style="max-width: 800px;">
        <div class="admin-modal-header">
            <h3 class="admin-modal-title" id="modal-title">Create Sub-Agent Template</h3>
            <button class="admin-modal-close" id="modal-close">&times;</button>
        </div>
        <div class="admin-modal-body">
            <form id="subagent-form">
                <input type="hidden" id="subagent-id">

                <div class="admin-form-group">
                    <label class="admin-form-label">Agent Type</label>
                    <select id="subagent-type" class="admin-select" style="width: 100%;" required>
                        <option value="">Select Type...</option>
                        <option value="planner">ğŸ¯ Planner - Strategic content planning</option>
                        <option value="research">ğŸ” Research - Market analysis</option>
                        <option value="creator">âœï¸ Creator - Content generation</option>
                        <option value="compliance">âš–ï¸ Compliance - Fact checking</option>
                        <option value="evaluator">ğŸ“Š Evaluator - Quality assessment</option>
                        <option value="manager">ğŸ‘” Manager - Final approval</option>
                        <option value="kpi_engine">ğŸ“ˆ KPI Engine - Performance optimization</option>
                    </select>
                </div>

                <div class="admin-form-group">
                    <label class="admin-form-label">Version</label>
                    <input type="text" id="subagent-version" class="admin-form-input" placeholder="1.0.0" readonly>
                    <small style="color: rgba(255,255,255,0.6);">Version is managed automatically.</small>
                </div>

                <div class="admin-form-group">
                    <label class="admin-form-label">Status</label>
                    <select id="subagent-status" class="admin-select" style="width: 100%;" required>
                        <option value="active">âœ… Active</option>
                        <option value="draft">ğŸ“ Draft</option>
                        <option value="deprecated">âŒ Deprecated</option>
                    </select>
                </div>

                <div class="admin-form-group">
                    <label class="admin-form-label">System Prompt Template</label>
                    <textarea id="subagent-prompt" class="admin-form-input" rows="8" required
                        placeholder="You are a strategic content planner..."></textarea>
                </div>

                <div class="admin-form-group"
                    style="background: rgba(22, 224, 189, 0.05); padding: 15px; border-radius: 8px; border: 1px solid rgba(22, 224, 189, 0.2);">
                    <label class="admin-form-label" style="color: #16e0bd;">ğŸš€ Default Runtime Profile</label>
                    <select id="subagent-profile" class="admin-select" style="width: 100%;">
                        <option value="">Select a Profile...</option>
                        <!-- Options will be loaded dynamically -->
                    </select>
                    <small style="color: rgba(255,255,255,0.6); display: block; margin-top: 5px;">
                        Select a default Runtime Profile for instances created from this template.
                    </small>
                </div>

                <div class="admin-form-group">
                    <label class="admin-form-label">Default LLM Model (Fallback)</label>
                    <select id="model-llm-text" class="admin-select" style="width: 100%;">
                        <option value="gpt-4">GPT-4 (OpenAI)</option>
                        <option value="gpt-4-turbo">GPT-4 Turbo (OpenAI)</option>
                        <option value="gpt-3.5-turbo">GPT-3.5 Turbo (OpenAI)</option>
                        <option value="claude-3-opus">Claude 3 Opus (Anthropic)</option>
                        <option value="claude-3-sonnet">Claude 3 Sonnet (Anthropic)</option>
                        <option value="gemini-pro">Gemini Pro (Google)</option>
                        <option value="gemini-1.5-pro">Gemini 1.5 Pro (Google)</option>
                    </select>
                </div>

                <div class="admin-form-group">
                    <label class="admin-form-label">Default Temperature</label>
                    <input type="number" id="config-temperature" class="admin-form-input" min="0" max="2" step="0.1"
                        value="0.7">
                </div>

                <div class="admin-form-group">
                    <label class="admin-form-label">Default Max Tokens</label>
                    <input type="number" id="config-max-tokens" class="admin-form-input" min="100" max="8000" step="100"
                        value="2000">
                </div>

            </form>
        </div>
        <div class="admin-modal-footer">
            <button class="admin-btn-secondary" id="modal-cancel">Cancel</button>
            <button class="admin-btn-primary" id="modal-save">Save Template</button>
        </div>
    </div>
</div>