<div class="admin-card">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
        <div>
            <h3 style="margin: 0;">Documentation</h3>
            <p style="margin: 4px 0 0 0; color: rgba(255,255,255,0.5); font-size: 14px;">System guides and technical
                documentation</p>
        </div>
        <button id="create-doc-btn" class="admin-btn-primary">
            + New Document
        </button>
    </div>

    <!-- Filters -->
    <div style="display: flex; gap: 16px; margin-bottom: 24px;">
        <div class="admin-search-box" style="flex: 1;">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <input type="text" id="doc-search" placeholder="Search documents..." onkeyup="filterDocuments()">
        </div>
        <select id="doc-category-filter" class="admin-select" style="width: 180px;" onchange="filterDocuments()">
            <option value="all">All Categories</option>
            <option value="user_guide">User Guides</option>
            <option value="technical">Technical Docs</option>
            <option value="api">API Reference</option>
            <option value="internal_education">Internal Education Material</option>
        </select>
    </div>

    <!-- Documents Grid -->
    <div id="documents-grid"
        style="display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 20px;">
        <div style="text-align: center; padding: 60px; color: rgba(255,255,255,0.3); grid-column: 1 / -1;">
            Loading documents...
        </div>
    </div>
</div>

<!-- Create/Edit Document Modal -->
<div id="document-modal" class="admin-modal" style="display: none;">
    <div class="admin-modal-content" style="max-width: 900px; max-height: 90vh; overflow-y: auto;">
        <div class="admin-modal-header">
            <h3 class="admin-modal-title" id="doc-modal-title">New Document</h3>
            <button class="admin-modal-close" onclick="closeDocumentModal()">&times;</button>
        </div>
        <div class="admin-modal-body">
            <input type="hidden" id="doc-edit-id">

            <div class="admin-form-group">
                <label class="admin-form-label">Title</label>
                <input type="text" id="doc-title" class="admin-form-input" placeholder="Document Title">
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                <div class="admin-form-group">
                    <label class="admin-form-label">Category</label>
                    <select id="doc-category" class="admin-select" style="width: 100%;">
                        <option value="user_guide">User Guide</option>
                        <option value="technical">Technical</option>
                        <option value="api">API Reference</option>
                        <option value="internal_education">Internal Education Material</option>
                    </select>
                </div>
                <div class="admin-form-group">
                    <label class="admin-form-label">Status</label>
                    <select id="doc-status" class="admin-select" style="width: 100%;">
                        <option value="draft">Draft</option>
                        <option value="published">Published</option>
                        <option value="archived">Archived</option>
                    </select>
                </div>
            </div>

            <div class="admin-form-group">
                <label class="admin-form-label">Tags (comma separated)</label>
                <input type="text" id="doc-tags" class="admin-form-input" placeholder="guide, setup, configuration">
            </div>

            <div class="admin-form-group">
                <label class="admin-form-label">Content (Smart Editor)</label>

                <!-- Tiptap Toolbar -->
                <div id="editor-toolbar" class="editor-toolbar">
                    <div class="toolbar-group">
                        <select id="font-family" class="toolbar-select">
                            <option value="Inter">Inter (System)</option>
                            <option value="Roboto">Roboto</option>
                            <option value="Merriweather">Merriweather (Serif)</option>
                            <option value="JetBrains Mono">JetBrains Mono</option>
                        </select>
                    </div>

                    <div class="toolbar-divider"></div>

                    <div class="toolbar-group">
                        <button type="button" class="toolbar-btn" id="btn-bold" title="Bold"><strong>B</strong></button>
                        <button type="button" class="toolbar-btn" id="btn-italic" title="Italic"><em>I</em></button>
                        <button type="button" class="toolbar-btn" id="btn-underline" title="Underline"><u>U</u></button>
                    </div>

                    <div class="toolbar-divider"></div>

                    <div class="toolbar-group fontSize-control">
                        <button type="button" class="toolbar-btn" id="btn-font-size-minus">-</button>
                        <input type="text" id="font-size-input" class="toolbar-input" value="16px">
                        <button type="button" class="toolbar-btn" id="btn-font-size-plus">+</button>
                    </div>

                    <div class="toolbar-divider"></div>

                    <div class="toolbar-group">
                        <button type="button" class="toolbar-btn" id="btn-align-left" title="Align Left"><i
                                class="fas fa-align-left"></i></button>
                        <button type="button" class="toolbar-btn" id="btn-align-center" title="Align Center"><i
                                class="fas fa-align-center"></i></button>
                        <button type="button" class="toolbar-btn" id="btn-align-right" title="Align Right"><i
                                class="fas fa-align-right"></i></button>
                    </div>

                    <div class="toolbar-divider"></div>

                    <div class="toolbar-group">
                        <button type="button" class="toolbar-btn" id="btn-attachment" title="Attach File">
                            <i class="fas fa-paperclip"></i>
                        </button>
                        <input type="file" id="editor-file-input" style="display: none;">
                    </div>
                </div>

                <!-- Editor Container with Comment Sidebar -->
                <div class="editor-layout">
                    <div id="editor-container" class="smart-editor-content"></div>

                    <!-- Comment Sidebar -->
                    <div id="comment-sidebar" class="comment-sidebar">
                        <div class="sidebar-header">Comments</div>
                        <div id="comments-list" class="comments-list">
                            <p class="no-comments">Select text to add a comment</p>
                        </div>
                    </div>
                </div>

                <p style="font-size: 12px; color: rgba(255,255,255,0.4); margin-top: 8px;">
                    Smart Editor: Supports rich formatting, file attachments, and collaborative comments.
                </p>
            </div>
        </div>
        <div class="admin-modal-footer" style="display: flex; gap: 12px; justify-content: space-between;">
            <button type="button" class="admin-btn-primary" onclick="saveDocument()" style="flex: 2;">
                Save Document
            </button>
            <button type="button" id="delete-doc-btn" class="admin-btn-secondary"
                style="background: rgba(239,68,68,0.1); color: #ef4444; border-color: #ef4444; display: none; flex: 1;">
                ğŸ—‘ï¸ Delete
            </button>
            <button type="button" class="admin-btn-secondary" onclick="closeDocumentModal()" style="flex: 1;">
                Cancel
            </button>
        </div>
    </div>
</div>

<!-- View Document Modal -->
<div id="view-document-modal" class="admin-modal" style="display: none;">
    <div class="admin-modal-content" style="max-width: 900px; max-height: 90vh; overflow-y: auto;">
        <div class="admin-modal-header">
            <h3 class="admin-modal-title" id="view-doc-title">Document</h3>
            <div style="display: flex; gap: 8px;">
                <button class="admin-btn-secondary" onclick="viewDocumentHistory()" style="padding: 8px 16px;">
                    ğŸ“œ History
                </button>
                <button class="admin-btn-secondary" onclick="editCurrentDocument()" style="padding: 8px 16px;">
                    Edit
                </button>
                <button class="admin-modal-close" onclick="closeViewDocumentModal()">&times;</button>
            </div>
        </div>
        <div class="admin-modal-body">
            <div id="view-doc-meta"
                style="margin-bottom: 24px; padding-bottom: 16px; border-bottom: 1px solid rgba(255,255,255,0.1);">
            </div>
            <div id="view-doc-content" class="smart-editor-content ProseMirror"></div>
        </div>
    </div>
</div>

<!-- Version History Modal -->
<div id="history-modal" class="admin-modal" style="display: none;">
    <div class="admin-modal-content" style="max-width: 700px;">
        <div class="admin-modal-header">
            <h3 class="admin-modal-title">Version History</h3>
            <button class="admin-modal-close" onclick="closeHistoryModal()">&times;</button>
        </div>
        <div class="admin-modal-body">
            <div id="history-list" style="max-height: 400px; overflow-y: auto;">
                Loading history...
            </div>
        </div>
    </div>
</div><!-- Delete Confirmation Modal -->
<div id="delete-confirm-modal" class="admin-modal" style="display: none; z-index: 10000;">
    <div class="admin-modal-content" style="max-width: 500px;">
        <div class="admin-modal-header">
            <h3 class="admin-modal-title">âš ï¸ ë¬¸ì„œ ì‚­ì œ í™•ì¸</h3>
        </div>
        <div class="admin-modal-body">
            <p id="delete-confirm-message" style="margin-bottom: 24px; line-height: 1.6;">
                ì •ë§ë¡œ ì´ ë¬¸ì„œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?<br>
                <strong id="delete-doc-name" style="color: #16e0bd;"></strong><br><br>
                ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
            </p>

            <div class="admin-form-group">
                <label class="admin-form-label">ğŸ” ê³„ì • ì¸ì¦</label>
                <input type="password" id="delete-password-input" class="admin-form-input"
                    placeholder="ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸í•œ ê²½ìš° ë¹„ë°€ë²ˆí˜¸ ì…ë ¥" autocomplete="off">
                <p style="font-size: 12px; color: rgba(255,255,255,0.4); margin-top: 4px;">
                    Google ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•œ ê²½ìš° ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ ì—†ì´ "ì‚­ì œ" ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ Google ì¸ì¦ íŒì—…ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
                </p>
            </div>
        </div>
        <div class="admin-modal-footer" style="display: flex; gap: 12px; justify-content: flex-end;">
            <button type="button" class="admin-btn-secondary" onclick="cancelDelete()">ì·¨ì†Œ</button>
            <button type="button" class="admin-btn-primary" style="background: #ef4444; border-color: #ef4444;"
                onclick="confirmDelete()">ì‚­ì œ</button>
        </div>
    </div>
</div>
</div>